<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Teste componente</title>
  <link href="https://fonts.googleapis.com/css2?family=Oswald&display=swap" rel="stylesheet">
  <style>
    body {
      color: #000;
    }

    a {
      color: inherit;
    }

    .ddb {
      width: 200px;
    }

    .cbb {
      width: 200px;
      border: 1px solid #000;
	  position: relative;
	  display: inline-block;
      /* border-top-left-radius: 5px;
      border-top-right-radius: 5px;
      border-bottom-left-radius: 5px; */
      /* background-color: rgb(255, 196, 33); */
    }

    .cbb input {
      width: 155px;
      border: none;
    }

    .cbb ul {
      margin: 0;
      padding: 0;
    }

    .cbb ul li {
      padding-left: 3px;
      list-style: none;
      text-decoration: none;
      cursor: default;
      /* font-family: 'Oswald', sans-serif; */
      /* font-size: 80%; */
      /* font-size: 15px; */
    }

    .cbb ul li:hover, .selected-option {
      /* border: 2px solid #000; */
      background-color: rgb(66, 140, 245);
      color: #fff;
    }

    .cbb-search-wrapper {
      display: flex;
      justify-content: space-between;
      padding: 1px;
      /* background-color: rgb(255, 255, 0); */
    }

    .cbb-content {
      display: none;
      border: 1px solid #000;
      max-height: 200px;
      overflow-y: auto;
	  position: absolute;
	  width: inherit;
	  background-color: #fff;
    }
	
	.span {
	  color: DarkBlue;
	}
  </style>
  <!-- <link rel="stylesheet" href="./font-awesome.min.css"> -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
  <script>
    window.onload = function () {
      const cbb = document.getElementsByClassName('cbb')[0];
      const cbbSearchWrapper = cbb.getElementsByClassName('cbb-search-wrapper')[0];
      const cbbContent = document.getElementsByClassName('cbb-content')[0];
      const items = cbbContent.getElementsByTagName('li');

      const arrowDown = cbbSearchWrapper.getElementsByTagName('a')[0];
      arrowDown.setAttribute('onclick', 'return false;');
      arrowDown.addEventListener('click', ARROW_DOW_CLICK);

      const values = [
        '--'
		,'AC'
        ,'AL'
        ,'AP'
        ,'AM'
        ,'BA'
        ,'CE'
        ,'DF'
        ,'ES'
        ,'GO'
        ,'MA'
        ,'MT'
        ,'MS'
        ,'MG'
        ,'PA'
        ,'PB'
        ,'PR'
        ,'PE'
        ,'PI'
        ,'RJ'
        ,'RN'
        ,'RS'
        ,'RO'
        ,'RR'
        ,'SC'
        ,'SP'
        ,'SE'
        ,'TO'
      ];
      fillDropDown(values);

      const input = cbbSearchWrapper.getElementsByTagName('input')[0];
      input.addEventListener('input', function(evt) { INPUT_TEXT(values, input) });
    }

    function ARROW_DOW_CLICK() {
      const cbbContent = document.getElementsByClassName('cbb-content')[0];
	  const cbb = document.getElementsByClassName('cbb')[0];
	  const cbbSearchWrapper = cbb.getElementsByClassName('cbb-search-wrapper')[0];
	  const input = cbbSearchWrapper.getElementsByTagName('input')[0];
	  
      cbbContent.style.display = cbbContent.style.display === 'block' ? 'none' : 'block';
	  SELECTED_OPTION(input.value);
    }

    function INPUT_TEXT(values, input) {
      fillDropDown(values, input.value.toUpperCase());
    }
	
	function SELECTED_OPTION(value) {
	  const container = document.getElementsByClassName('cbb-content')[0];
      const list = container.getElementsByTagName('li');
	  
	  for(let i = 0; i < list.length; i++) {
	    list[i].className = '';
	    if(list[i].innerText === value) {
		  list[i].className = 'selected-option';
		}
	  }
	}

    function fillDropDown(values, search) {
      const container = document.getElementsByClassName('cbb-content')[0];
      const list = container.getElementsByTagName('li');
      
      if(list !== undefined || list !== null) {
        while(list.length > 0) {
          container.getElementsByTagName('ul')[0]
            .removeChild(list[list.length-1]);
        }
      }

      if(search !== undefined) {
        let newValues = [];
        for(let i = 0; i < values.length; i++) {
          for(let j = 0; j < values[i].length; j++) {
            if(values[i].indexOf(search) != -1) {
              newValues.push(values[i]);
              break;
            }
          }
        }
        fillDropDown(newValues);
        return false;
      }

      for (let i = 0; i < values.length; i++) {
        const el = document.createElement('li');
        el.innerText = values[i];
        el.addEventListener('click', function () {
          fillInputText(this.innerText);
          SELECTED_OPTION(this.innerText);
		  ARROW_DOW_CLICK();
        });
		
		el.addEventListener('mouseenter', function () {
		  for(let i = 0; i < list.length; i++) {
			list[i].className = '';
		  }
        });
        container.getElementsByTagName('ul')[0].appendChild(el);
      }
    }

    function fillInputText(value) {
      const cbb = document.getElementsByClassName('cbb')[0];
      const cbbSearchWrapper = cbb.getElementsByClassName('cbb-search-wrapper')[0];
      const input = cbbSearchWrapper.getElementsByTagName('input')[0];
      input.value = value;
	  
	  fillSpan(input.value);
    }
	
	function fillSpan(value) {
	  const span = document.getElementsByClassName('span')[0];
	  const msg = ' is the State of ';
	  
	  switch(value) {
	    case 'AC':
		  span.innerText = value + msg + 'Acre, its capital is Rio Branco';
		  break;
		case 'AL':
		  span.innerText = value + msg + 'Alagoas, its capital is Maceió';
		  break;
		case 'AP':
		  span.innerText = value + msg + 'Amapá, its capital is Macapá';
		  break;
		case 'AM':
		  span.innerText = value + msg + 'Amazonas, its capital is Manaus';
		  break;
		case 'BA':
		  span.innerText = value + msg + 'Bahia, its capital is Salvador';
		  break;
		case 'CE':
		  span.innerText = value + msg + 'Ceará, its capital is Fortaleza';
		  break;
		case 'DF':
		  span.innerText = value + ' is called Distrito Federal that contains Brasília, Brazil\'s Capital';
		  break;
		case 'ES':
		  span.innerText = value + msg + 'Espírito Santo, its capital is Vitória';
		  break;
		case 'GO':
		  span.innerText = value + msg + 'Goiás, its capital is Goiânia';
		  break;
		case 'MA':
		  span.innerText = value + msg + 'Maranhão, its capital is São Luís';
		  break;
		case 'MT':
		  span.innerText = value + msg + 'Mato Grosso, its capital is Cuiabá';
		  break;
		case 'MS':
		  span.innerText = value + msg + 'Mato Grosso do Sul, its capital is Campo Grande';
		  break;
		case 'MG':
		  span.innerText = value + msg + 'Minas Gerais, its capital is Belo Horizonte';
		  break;
		case 'PA':
		  span.innerText = value + msg + 'Pará, its capital is Belém';
		  break;
		case 'PB':
		  span.innerText = value + msg + 'Paraíba, its capital is João Pessoa';
		  break;
		case 'PR':
		  span.innerText = value + msg + 'Paraná, its capital is Curitiba';
		  break;
		case 'PE':
		  span.innerText = value + msg + 'Pernambuco, its capital is Recife';
		  break;
		case 'PI':
		  span.innerText = value + msg + 'Piauí, its capital is Teresina';
		  break;
		case 'RJ':
		  span.innerText = value + msg + 'Rio de Janeiro, its capital is Rio de Janeiro';
		  break;
		case 'RN':
		  span.innerText = value + msg + 'Rio Grande do Norte, its capital is Natal';
		  break;
		case 'RS':
		  span.innerText = value + msg + 'Rio Grande do Sul, its capital is Porto Alegre';
		  break;
		case 'RO':
		  span.innerText = value + msg + 'Rondônia, its capital is Porto Velho';
		  break;
		case 'RR':
		  span.innerText = value + msg + 'Roraima, its capital is Boa Vista';
		  break;
		case 'SC':
		  span.innerText = value + msg + 'Santa Catarina, its capital is Florianópolis';
		  break;
		case 'SP':
		  span.innerText = value + msg + 'São Paulo, its capital is São Paulo';
		  break;
		case 'SE':
		  span.innerText = value + msg + 'Sergipe, its capital is Aracaju';
		  break;
		case 'TO':
		  span.innerText = value + msg + 'Tocantins, its capital is Palmas';
		  break;
		default:
		  span.innerText = '';
	  }
	}
  </script>
  <h1>Simple Searchable DropDown</h1>
  <p>This DropDown contains the acronyms of the States of Brazil</p>
  <div class="cbb">
    <div class="cbb-search-wrapper">
      <i class="fa fa-search" aria-hidden="true"></i>
      <input type="text" placeholder="Type to Search" />
      <a href='#'>
        <i class="fa fa-arrow-down" aria-hidden="true"></i>
      </a>
    </div>
    <div class="cbb-content">
      <ul>
        <li>Item 1</li>
        <li>Item 2</li>
        <li>Item 3</li>
        <li>Item 4</li>
        <li>Item 5</li>
      </ul>
    </div>
  </div>
  <span class="span"></span>
  <p>Standard DropDown:</p>
  <select class="ddb">
    <option>--</option>
    <option>AC</option>
    <option>AL</option>
    <option>AP</option>
    <option>AM</option>
    <option>BA</option>
    <option>CE</option>
    <option>DF</option>
    <option>ES</option>
    <option>GO</option>
    <option>MA</option>
    <option>MT</option>
    <option>MS</option>
    <option>MG</option>
    <option>PA</option>
    <option>PB</option>
    <option>PR</option>
    <option>PE</option>
    <option>PI</option>
    <option>RJ</option>
    <option>RN</option>
    <option>RS</option>
    <option>RO</option>
    <option>RR</option>
    <option>SC</option>
    <option>SP</option>
    <option>SE</option>
    <option>TO</option>
  </select>
</body>
</html>